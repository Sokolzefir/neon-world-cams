<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ—Å–∫–≤–∞ –ö–∞–º–µ—Ä—ã PRO</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      color: #22c55e;
      font-family: 'Arial', sans-serif;
      font-size: 14px;
    }

    .container {
      display: flex;
      flex-direction: row;
      height: 100vh;
      gap: 0;
    }

    .sidebar {
      width: 300px;
      background: rgba(0, 0, 0, 0.95);
      border-right: 2px solid #8b5cf6;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .header {
      padding: 15px;
      text-align: center;
      border-bottom: 2px solid #22c55e;
    }

    .title {
      color: #8b5cf6;
      font-size: 18px;
      font-weight: bold;
      text-shadow: 0 0 10px #8b5cf6;
      margin-bottom: 5px;
    }

    .subtitle {
      color: #22c55e;
      font-size: 11px;
    }

    .controls {
      display: flex;
      gap: 8px;
      padding: 10px;
      flex-wrap: wrap;
    }

    .btn {
      background: #8b5cf6;
      border: none;
      color: #000;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
      font-size: 12px;
      transition: all 0.3s;
    }

    .btn:hover {
      background: #22c55e;
      box-shadow: 0 0 15px #22c55e;
    }

    .btn.active {
      background: #22c55e;
      box-shadow: 0 0 15px #22c55e;
    }

    .weather {
      background: #111;
      border: 2px solid #8b5cf6;
      padding: 10px;
      margin: 0 10px;
      color: #8b5cf6;
      border-radius: 4px;
      text-align: center;
      font-size: 12px;
    }

    select {
      background: #111;
      color: #22c55e;
      border: 2px solid #8b5cf6;
      padding: 8px;
      margin: 0 10px;
      cursor: pointer;
      border-radius: 4px;
      font-size: 12px;
    }

    .camera-list {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }

    .camera-item {
      background: #111;
      border: 2px solid #8b5cf6;
      color: #22c55e;
      padding: 10px;
      margin: 5px 0;
      cursor: pointer;
      border-radius: 4px;
      font-size: 12px;
      transition: all 0.3s;
    }

    .camera-item:hover {
      background: #1a1a1a;
      box-shadow: 0 0 10px #8b5cf6;
    }

    .camera-item.active {
      background: #8b5cf6;
      color: #000;
      box-shadow: 0 0 15px #8b5cf6;
    }

    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .video-area {
      flex: 1;
      background: #000;
      border-bottom: 2px solid #22c55e;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .video-placeholder {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a1a 0%, #000 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #22c55e;
      font-size: 14px;
      text-align: center;
      padding: 20px;
    }

    .camera-info {
      background: #111;
      border-top: 2px solid #22c55e;
      padding: 15px;
      color: #22c55e;
      font-size: 14px;
      border-left: 4px solid #8b5cf6;
    }

    /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏–∫–∞ */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        height: auto;
        min-height: 100vh;
      }

      .sidebar {
        width: 100%;
        height: auto;
        max-height: 40vh;
        border-right: none;
        border-bottom: 2px solid #8b5cf6;
      }

      .camera-list {
        max-height: 25vh;
      }

      .main {
        flex: 1;
        min-height: 60vh;
      }

      .title {
        font-size: 16px;
      }

      .btn {
        padding: 6px 10px;
        font-size: 11px;
      }
    }

    @media (max-width: 480px) {
      .camera-list {
        max-height: 20vh;
      }

      .main {
        min-height: 55vh;
      }

      .title {
        font-size: 14px;
      }

      .sidebar {
        max-height: 45vh;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="sidebar">
    <div class="header">
      <div class="title">MOSKVA KAMER PRO</div>
      <div class="subtitle">–ú–æ—Å–∫–≤–∞ –ö–∞–º–µ—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
    </div>

    <div class="controls">
      <button class="btn active" onclick="setLang('ru')">–†–£</button>
      <button class="btn" onclick="setLang('en')">EN</button>
    </div>

    <div class="weather" id="weather">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <select onchange="filterCam(this.value)" id="district-select">
      <option value="">–í—Å–µ –æ–∫—Ä—É–≥–∞</option>
    </select>

    <div class="camera-list" id="camera-list"></div>
  </div>

  <div class="main">
    <div class="video-area">
      <div class="video-placeholder" id="video-placeholder">
        <div>
          üé•<br>
          –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–º–µ—Ä—É<br>
          –∏–∑ —Å–ø–∏—Å–∫–∞
        </div>
      </div>
    </div>
    <div class="camera-info" id="camera-info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–µ—Ä–µ</div>
  </div>
</div>

<script>
const cameras = [
  {r: '–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å', en: 'Red Square', o: 'CAO', id: 1},
  {r: '–ö—Ä–µ–º–ª—å', en: 'Kremlin', o: 'CAO', id: 2},
  {r: '–ú–æ—Å–∫–≤–∞-—Ä–µ–∫–∞', en: 'Moscow River', o: 'CAO', id: 3},
  {r: '–¢–≤erskaya', en: 'Tverskaya', o: 'CAO', id: 4},
  {r: '–ê—Ä–±–∞—Ç', en: 'Arbat', o: 'CAO', id: 5},
  {r: '–°–∞–¥–æ–≤–æ–µ –∫–æ–ª—å—Ü–æ', en: 'Garden Ring', o: 'CAO', id: 6},
  {r: '–õ—É–±—è–Ω–∫–∞', en: 'Lubyanka', o: 'CAO', id: 7},
  {r: '–ú–µ—Ç—Ä–æ –ú–∞—è–∫–æ–≤—Å–∫–∞—è', en: 'Mayakovskaya Metro', o: 'CAO', id: 8},
  {r: '–ü–∞—Ä–∫ –ì–æ—Ä—å–∫–æ–≥–æ', en: 'Gorky Park', o: 'YUAO', id: 9},
  {r: '–í–æ—Ä–æ–±—å–µ–≤—ã –≥–æ—Ä—ã', en: 'Vorobyovy Gory', o: 'YUAO', id: 10},
  {r: '–õ—É–∂–Ω–∏–∫–∏', en: 'Luzhniki', o: 'YUAO', id: 11},
  {r: '–ú–ì–£', en: 'Moscow State University', o: 'YUAO', id: 12},
  {r: '–ö–æ–º–º—É–Ω–∞—Ä–∫a', en: 'Kommunarka', o: 'YUAO', id: 13},
  {r: '–ë–∏—Ç—Ü–µ–≤—Å–∫–∏–π –ø–∞—Ä–∫', en: 'Bitsevsky Park', o: 'YUAO', id: 14},
  {r: '–û—Å—Ç–∞–Ω–∫–∏–Ω—Å–∫–∞—è –±–∞—à–Ω—è', en: 'Ostankino Tower', o: 'SAO', id: 15},
  {r: '–í–î–ù–•', en: 'VDNKh', o: 'SAO', id: 16},
  {r: '–ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥', en: 'Botanical Garden', o: 'SAO', id: 17},
  {r: '–ê—ç—Ä–æ–ø–æ—Ä—Ç –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ', en: 'Sheremetevo Airport', o: 'SAO', id: 18},
  {r: '–ö–æ–º—Å–æ–º–æ–ª—å—Å–∫–∞—è', en: 'Komsomolskaya', o: 'VAO', id: 19},
  {r: '–ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å—Å–∫–∞—è', en: 'Krasnoselskaya', o: 'VAO', id: 20}
];

let lang = 'ru';
let currentCamera = null;

function setLang(l) {
  lang = l;
  document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  loadCameras();
}

function loadCameras() {
  const list = document.getElementById('camera-list');
  const districtValue = document.getElementById('district-select').value;
  list.innerHTML = '';
  
  cameras
    .filter(c => !districtValue || c.o === districtValue)
    .forEach((c, idx) => {
      const el = document.createElement('div');
      el.className = 'camera-item';
      el.textContent = lang === 'ru' ? c.r : c.en;
      el.onclick = () => selectCamera(c, el);
      list.appendChild(el);
    });
}

function selectCamera(cam, el) {
  currentCamera = cam;
  document.querySelectorAll('.camera-item').forEach(e => e.classList.remove('active'));
  el.classList.add('active');
  
  const placeholder = document.getElementById('video-placeholder');
  placeholder.innerHTML = `<div>üìπ –ö–∞–º–µ—Ä–∞: ${lang === 'ru' ? cam.r : cam.en}<br>–û–∫—Ä—É–≥: ${cam.o}<br><small>–í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</small></div>`;
  
  document.getElementById('camera-info').textContent = `${lang === 'ru' ? cam.r : cam.en} (${cam.o})`;
}

function filterCam(o) {
  loadCameras();
}

function loadWeather() {
  fetch('https://api.open-meteo.com/v1/forecast?latitude=55.7558&longitude=37.6173&current=temperature_2m')
    .then(r => r.json())
    .then(d => {
      const temp = d.current.temperature_2m;
      document.getElementById('weather').textContent = `–¢–µ–º–ø: ${temp}¬∞C`;
    })
    .catch(() => {
      document.getElementById('weather').textContent = '–¢–µ–º–ø: -';
    });
}

function initDistricts() {
  const select = document.getElementById('district-select');
  const districts = [...new Set(cameras.map(c => c.o))].sort();
  districts.forEach(d => {
    const opt = document.createElement('option');
    opt.value = d;
    opt.textContent = d;
    select.appendChild(opt);
  });
}

window.addEventListener('load', () => {
  initDistricts();
  loadCameras();
  loadWeather();
});
</script>

</body>
</html>
