<!DOCTYPE html>
<html id="html">
<head>
<meta charset="UTF-8">
<title id="title-tag">–°–ª–µ–∂—É –∑–∞ –≥–æ—Ä–æ–¥–æ–º</title>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=5">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<style>
* {margin:0; padding:0; box-sizing:border-box}
html,body {width:100%; height:100%; overflow:hidden}
body {font-family:'Courier New',monospace; background:#0a0e27; color:#22c55e}
.container {display:flex; height:100vh; flex-direction:column}
@media(min-width:1024px) {.container {flex-direction:row}}
.header {background:linear-gradient(90deg,#8b5cf6,#1a1f3a); color:#fff; padding:12px; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #8b5cf6; gap:10px; flex-wrap:wrap}
.header h1 {font-size:16px; flex:1; text-align:center}
.lang-btn {background:#22c55e; color:#000; border:none; padding:6px 12px; margin:0 2px; cursor:pointer; border-radius:4px; font-weight:bold; font-size:11px}
.lang-btn.active {background:#8b5cf6; color:#22c55e}
.menu-toggle {display:none; width:44px; height:44px; background:#22c55e; border:none; color:#000; font-weight:bold; cursor:pointer; border-radius:4px}
@media(max-width:1023px) {.menu-toggle {display:block}}
.sidebar {width:280px; background:#0f1629; border-right:2px solid #8b5cf6; display:flex; flex-direction:column; overflow:hidden}
@media(max-width:1023px) {.sidebar {position:absolute; top:56px; left:0; right:0; width:100%; max-height:calc(100vh - 56px); border-bottom:2px solid #8b5cf6; border-right:none; z-index:1000; display:none} .sidebar.open {display:flex}}
.district-filter {padding:10px; border-bottom:2px solid #8b5cf6}
.district-filter select {width:100%; padding:8px; background:#0a0e27; color:#22c55e; border:2px solid #8b5cf6; border-radius:4px; cursor:pointer; font-family:monospace; font-weight:bold; font-size:12px}
.camera-list {flex:1; overflow-y:auto; padding:8px}
.camera-item {padding:10px; margin:4px 0; background:rgba(34,197,86,0.1); border:2px solid #8b5cf6; border-radius:4px; cursor:pointer; color:#22c55e; font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.camera-item:hover {background:rgba(34,197,86,0.2); border-color:#22c55e}
.camera-item.active {background:rgba(139,92,246,0.3); border-color:#22c55e; box-shadow:0 0 8px rgba(34,197,86,0.5)}
.main {flex:1; display:flex; flex-direction:column; position:relative; min-height:0}
@media(max-width:1023px) {.main {background:linear-gradient(135deg,#1a1f3a,#0f1629)}}
.video-wrap {flex:1; background:#000; border:2px solid #8b5cf6; border-radius:4px; overflow:hidden; position:relative}
.video-wrap iframe {width:100%; height:100%; border:none}
.info {background:linear-gradient(135deg,#1a1f3a,#0f1629); padding:10px; border-top:2px solid #8b5cf6; font-size:12px; min-height:60px}
.info-row {margin:3px 0; color:#22c55e}
.info-label {color:#8b5cf6}
.btn-live {position:absolute; bottom:12px; right:12px; background:#22c55e; color:#000; border:none; padding:10px 16px; cursor:pointer; border-radius:4px; font-weight:bold; z-index:100; font-size:12px}
.btn-live:hover {background:#8b5cf6; color:#22c55e}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1 id="h-title">–°–ª–µ–∂—É –∑–∞ –≥–æ—Ä–æ–¥–æ–º</h1>
<div style="display:flex; gap:4px;">
<button class="lang-btn active" onclick="setLang('ru')" id="btn-ru">–†–£</button>
<button class="lang-btn" onclick="setLang('en')" id="btn-en">EN</button>
</div>
</div>
<button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
<div class="sidebar" id="sidebar">
<div class="district-filter">
<select id="dist" onchange="filterCams()">
<option value="">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
<option value="–¶–ê–û">–¶–ê–û</option>
<option value="–°–ê–û">–°–ê–û</option>
<option value="–°–í–ê–û">–°–í–ê–û</option>
<option value="–í–ê–û">–í–ê–û</option>
<option value="–Æ–í–ê–û">–Æ–í–ê–û</option>
<option value="–Æ–ê–û">–Æ–ê–û</option>
<option value="–Æ–ó–ê–û">–Æ–ó–ê–û</option>
<option value="–ó–ê–û">–ó–ê–û</option>
<option value="–°–ó–ê–û">–°–ó–ê–û</option>
</select>
</div>
<div class="camera-list" id="cams"></div>
</div>
<div class="main">
<div class="video-wrap" id="video"></div>
<div class="info" id="info"><div class="info-row">–ú–æ—Å–∫–≤–∞ Live</div></div>
<button class="btn-live" onclick="live()">üî¥ LIVE</button>
</div>
</div>
<script>
let lang = 'ru';
let currUrl = '';
const ytIds = ['lKEX4fuQypI', 'eeMEZYE9qE0', '9SW43w9wpfo', 'RsqHdJhj1FI', 'D8D0Mqqm0kE', 'JJ8Sl_xV7p4', 'wkH6mzDVLlc'];
const cams = [
{n: '–ú–æ—Å–∫–≤–∞-–†–µ–∫–∞', d: '–¶–ê–û', url: ytIds[0], ne: 'Moscow River'},
{n: '–ú–∞–∫—Å–∏–º–æ–≤', d: '–¶–ê–û', url: ytIds[1], ne: 'Maksimov'},
{n: '–ê—Ä–±–∞—Ç', d: '–¶–ê–û', url: ytIds[2], ne: 'Arbat'},
{n: '–ü–æ–≤–∞—Ä—Å–∫–∞—è', d: '–°–ê–û', url: ytIds[3], ne: 'Povarskaya'},
{n: '–ê–±–∞–ª—é–Ω', d: '–°–ê–û', url: ytIds[4], ne: 'Abalon'},
{n: '–≠–∫—Å–ø–æ', d: '–°–í–ê–û', url: ytIds[5], ne: 'Expo'},
{n: '–ö–æ–º—Å–æ–º–æ–ª–µ—Ü', d: '–°–í–ê–û', url: ytIds[6], ne: 'Komsomoltsa'},
{n: '–ú–∞—è–∫–æ–≤—Å–∫–∏–π', d: '–í–ê–û', url: ytIds[0], ne: 'Mayakovski'},
{n: '–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥', d: '–í–ê–û', url: ytIds[1], ne: 'Leningrad'},
{n: '–ö–æ—Å—ã–Ω–∞', d: '–í–ê–û', url: ytIds[2], ne: 'Kosyna'},
{n: '–ö—Ä–∞—Å–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞', d: '–Æ–í–ê–û', url: ytIds[3], ne: 'Red Gates'},
{n: '–ì—Ä–∏–±–æ–µ–¥–æ–≤', d: '–Æ–í–ê–û', url: ytIds[4], ne: 'Griboedov'},
{n: '–ö–æ–ª—á—É–≥–∏–Ω–æ', d: '–Æ–ê–û', url: ytIds[5], ne: 'Kolchugino'},
{n: '–î–æ–Ω—Å–∫–æ–π', d: '–Æ–ê–û', url: ytIds[6], ne: 'Donskoy'},
{n: '–õ–µ–Ω–∏–Ω—Å–∫–∏–π', d: '–Æ–ê–û', url: ytIds[0], ne: 'Leninskiy'},
{n: '–õ–æ–º–æ–Ω–æ—Å–æ–≤', d: '–Æ–ó–ê–û', url: ytIds[1], ne: 'Lomonosov'},
{n: '–ö–æ–Ω—å–∫–æ–≤–æ', d: '–Æ–ó–ê–û', url: ytIds[2], ne: 'Konkovo'},
{n: '–ö–æ—Ç–ª–æ–≤–∫–∞', d: '–Æ–ó–ê–û', url: ytIds[3], ne: 'Kotlovka'},
{n: '–†–∞–º–µ–Ω–∫–∏', d: '–ó–ê–û', url: ytIds[4], ne: 'Ramenki'},
{n: '–ö—Ä—ã–ª–∞—Ç—Å–∫–æ–µ', d: '–ó–ê–û', url: ytIds[5], ne: 'Krylatskoe'},
{n: '–ö—É–Ω—Ü–µ–≤–æ', d: '–ó–ê–û', url: ytIds[6], ne: 'Kuntsevo'},
{n: '–°–∫–∞–Ω–∏–Ω', d: '–°–ó–ê–û', url: ytIds[0], ne: 'Skanin'},
{n: '–°–æ–∫–æ–ª—å–Ω–∏–∫–∏', d: '–°–ó–ê–û', url: ytIds[1], ne: 'Sokolniki'},
{n: '–ü—Ä–µ—Å–Ω—è', d: '–°–ó–ê–û', url: ytIds[2], ne: 'Presnya'},
]

const trans = {
  'ru': {
    'all': '–í—Å–µ —Ä–∞–π–æ–Ω—ã',
    'district': '–û–∫—Ä—É–≥:',
    'source': '–ò—Å—Ç–æ—á–Ω–∏–∫:'
  },
  'en': {
    'all': 'All Districts',
    'district': 'District:',
    'source': 'Source:'
  }
}

function render() {
  const dist = document.getElementById('dist').value;
  const list = document.getElementById('cams');
  list.innerHTML = '';
  const filtered = cams.filter(c => !dist || c.d === dist);
  
  filtered.forEach(c => {
    const el = document.createElement('div');
    el.className = 'camera-item';
    if (!currUrl) {currUrl = c.url; currCam = c;}
    const txt = lang === 'ru' ? c.n : c.ne;
    el.textContent = txt;
    el.onclick = () => {selectCam(c); closeMobile(); updateActive();};
    list.appendChild(el);
  });
  
  if (filtered.length > 0) selectCam(filtered[0]);
}

let currCam = null;
function selectCam(c) {
  currUrl = c.url;
  currCam = c;
  const html = '<iframe src="https://www.youtube.com/embed/' + currUrl + '?autoplay=1" allow="autoplay" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" playsinline="1"></iframe>';
  document.getElementById('video').innerHTML = html;
  updateInfo();
}

function updateInfo() {
  if (!currCam) return;
  const cname = lang === 'ru' ? currCam.n : currCam.ne;
  const dlbl = trans[lang].district;
  const slbl = trans[lang].source;
  document.getElementById('info').innerHTML = '<div class="info-row"><span class="info-label">üé¨</span> ' + cname + '</div><div class="info-row"><span class="info-label">üìã</span> ' + dlbl + ' ' + currCam.d + '</div><div class="info-row"><span class="info-label">üîä</span> ' + slbl + ' YouTube Live</div>';
}

function updateActive() {
  const items = document.querySelectorAll('.camera-item');
  items.forEach(el => el.classList.remove('active'));
  const txt = lang === 'ru' ? currCam.n : currCam.ne;
  for (let el of items) {
    if (el.textContent === txt) {
      el.classList.add('active');
      break;
    }
  }
}

function filterCams() { render(); }
function live() { window.open('https://www.youtube.com/watch?v=' + currUrl, '_blank'); }
function toggleMenu() { document.getElementById('sidebar').classList.toggle('open'); }
function closeMobile() { if (window.innerWidth < 1024) document.getElementById('sidebar').classList.remove('open'); }

function setLang(l) {
  lang = l;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  if (l === 'ru') {
    document.getElementById('btn-ru').classList.add('active');
    document.getElementById('html').setAttribute('lang', 'ru');
  } else {
    document.getElementById('btn-en').classList.add('active');
    document.getElementById('html').setAttribute('lang', 'en');
  }
  
  const allOpt = document.querySelector('option[value=""]');
  if (allOpt) allOpt.textContent = trans[lang].all;
  
  updateInfo();
  render();
}

render();
</script>
</body>
</html>
