<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Moskva Kamer</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; color: #22c55e; font-family: Arial, sans-serif; }
    #container { display: flex; height: 100vh; }
    #sidebar { width: 300px; background: rgba(0,0,0,0.9); border-right: 2px solid #8b5cf6; overflow-y: auto; padding: 10px; }
    #main { flex: 1; display: flex; flex-direction: column; }
    #header { padding: 15px; text-align: center; border-bottom: 2px solid #22c55e; }
    .title { color: #8b5cf6; text-shadow: 0 0 10px #8b5cf6; font-size: 24px; margin-bottom: 10px; }
    .controls { display: flex; gap: 10px; margin: 10px 0; }
    .btn { background: #8b5cf6; border: none; color: #000; padding: 8px 12px; cursor: pointer; border-radius: 4px; font-weight: bold; }
    .btn.active { background: #22c55e; }
    select { background: #111; color: #22c55e; border: 2px solid #8b5cf6; padding: 8px; cursor: pointer; }
    .camera-item { background: #111; border: 2px solid #8b5cf6; color: #22c55e; padding: 10px; margin: 5px 0; cursor: pointer; border-radius: 4px; }
    .camera-item:hover { background: #1a1a1a; }
    #content { flex: 1; display: flex; gap: 10px; padding: 15px; }
    #video-container { flex: 1; display: flex; flex-direction: column; }
    iframe { width: 100%; flex: 1; border: 2px solid #8b5cf6; background: #000; }
    #info { background: #111; border: 2px solid #22c55e; padding: 10px; color: #22c55e; margin-top: 10px; }
    #weather { background: #111; border: 2px solid #8b5cf6; padding: 10px; color: #8b5cf6; margin-bottom: 10px; }
  </style>
</head>
<body>
<div id="container">
  <div id="sidebar">
    <div id="header">
      <div class="title">MOSKVA KAMER PRO</div>
      <div style="color: #22c55e; font-size: 12px;">Moscow Live Cameras</div>
    </div>
    <div class="controls">
      <button class="btn active" onclick="setLang('ru')">RU</button>
      <button class="btn" onclick="setLang('en')">EN</button>
    </div>
    <div id="weather"></div>
    <select onchange="filterCam(this.value)">
      <option value="">All Districts</option>
    </select>
    <div id="cam-list"></div>
  </div>
  <div id="main">
    <div id="content">
      <div id="video-container">
        <div style="color: #22c55e; font-size: 14px; padding: 10px;">Select a camera from the list</div>
        <iframe id="video-frame" src="" style="display: none;"></iframe>
      </div>
      <div id="info" style="display: none;">Camera Info</div>
    </div>
  </div>
</div>

<script>
const cam = [
  {r:'Marksistskaya', r2:'Marksistskaya', o:'CAO', u:'marksistskaya'},
  {r:'Moskva-reka', r2:'Moscow River', o:'CAO', u:'moskva-reka'},
  {r:'Kutuzovskiy', r2:'Kutuzovskiy', o:'ZAO', u:'kutuzovskiy'},
  {r:'Tverskaya', r2:'Tverskaya', o:'CAO', u:'tverskaya'},
  {r:'Pushkin', r2:'Pushkin Square', o:'CAO', u:'pushkin'},
  {r:'Krasnya', r2:'Red Square', o:'CAO', u:'krasnya'},
  {r:'Arbat', r2:'Arbat', o:'CAO', u:'arbat'},
  {r:'Sadovoe', r2:'Garden Ring', o:'CAO', u:'sadovoe'},
  {r:'Prospekt', r2:'Prospekt Mira', o:'CAO', u:'prospekt'},
  {r:'Leningrad', r2:'Leningrad Station', o:'CAO', u:'leningrad'},
  {r:'Paveletsk', r2:'Paveletsk Station', o:'YUAO', u:'paveletsk'},
  {r:'Kazanskiy', r2:'Kazanskiy Station', o:'CAO', u:'kazanskiy'},
  {r:'Belorusskiy', r2:'Belorusskiy Station', o:'CAO', u:'belorusskiy'},
  {r:'Yaroslavl', r2:'Yaroslavl Station', o:'CAO', u:'yaroslavl'},
  {r:'Komsomolskaya', r2:'Komsomolskaya', o:'VAO', u:'komsomolskaya'},
  {r:'Taganskaya', r2:'Taganskaya', o:'CAO', u:'taganskaya'},
  {r:'Komsomolets', r2:'Komsomolskaya Street', o:'VAO', u:'komsomolets'},
  {r:'Vokzalnaya', r2:'Vokzalnaya', o:'CAO', u:'vokzalnaya'},
  {r:'Revolyutsii', r2:'Revolutsii Square', o:'CAO', u:'revolyutsii'},
  {r:'Okhotnyy', r2:'Okhotnyy Row', o:'CAO', u:'okhotnyy'},
  {r:'Mayakovskaya', r2:'Mayakovskaya', o:'CAO', u:'mayakovskaya'},
  {r:'Belorusskaya', r2:'Belorusskaya', o:'CAO', u:'belorusskaya'},
  {r:'Dinamo', r2:'Dinamo Stadium', o:'CAO', u:'dinamo'},
  {r:'Aeroport', r2:'Aeroport', o:'SAO', u:'aeroport'},
  {r:'Botanicheskiy', r2:'Botanical Garden', o:'SAO', u:'botanicheskiy'},
  {r:'Vorobyovy', r2:'Vorobyovy Hills', o:'YUAO', u:'vorobyovy'},
  {r:'Universitet', r2:'Universitet', o:'YUAO', u:'universitet'},
  {r:'Luzhniki', r2:'Luzhniki', o:'YUAO', u:'luzhniki'},
  {r:'Dorogomilovskiy', r2:'Dorogomilovskiy Bridge', o:'ZAO', u:'dorogomilovskiy'},
  {r:'Novoarbatskiy', r2:'Novoarbasskiy Bridge', o:'CAO', u:'novoarbatskiy'},
  {r:'Krasnopresnenskiy', r2:'Krasnopresenskiy', o:'CAO', u:'krasnopresnenskiy'},
  {r:'Berezniki', r2:'Berezniki', o:'SZAO', u:'berezniki'},
  {r:'Lefortovo', r2:'Lefortovo', o:'VAO', u:'lefortovo'},
  {r:'Sokolniki', r2:'Sokolniki', o:'VAO', u:'sokolniki'},
  {r:'Izmaylovo', r2:'Izmaylovo', o:'VAO', u:'izmaylovo'},
  {r:'Losiny', r2:'Losiny Ostrov', o:'VAO', u:'losiny'},
  {r:'Krasnoselskaya', r2:'Krasnoselskaya', o:'CAO', u:'krasnoselskaya'},
  {r:'Yaroslavskiy', r2:'Yaroslavskiy', o:'CAO', u:'yaroslavskiy'},
  {r:'Komsomolskaya2', r2:'Komsomolskaya-2', o:'VAO', u:'komsomolskaya2'},
  {r:'Krasnaya', r2:'Krasnaya Presnya', o:'CAO', u:'krasnaya'},
  {r:'Prospekt2', r2:'Prospekt Mira 2', o:'CAO', u:'prospekt2'}
    {r:'Komsomolskaya-2', r2:'Komsomolskaya-2', o:'VAO', u:'komsomolskaya2b'},
  {r:'Sretenskiy-bul', r2:'Sretensky Blvd', o:'CAO', u:'sretensky'},
  {r:'Chistoprudniy', r2:'Chistoprudny', o:'CAO', u:'chistoprudny'},
  {r:'Kremlin', r2:'Kremlin', o:'CAO', u:'kremlin'},
  {r:'Sofiyskaya', r2:'Sofiyskaya', o:'CAO', u:'sofiyskaya'},
  {r:'Taganskaya-2', r2:'Taganskaya-2', o:'CAO', u:'taganskaya2'},
  {r:'Komsomolskaya-3', r2:'Komsomolskaya-3', o:'VAO', u:'komsomolskaya3'},
  {r:'Lefortovskiy-most', r2:'Lefortovskiy Bridge', o:'VAO', u:'lefortovskiy'},
  {r:'Novospasskie', r2:'Novospasskie', o:'VAO', u:'novospasskie'},
  {r:'Krasnokholmskiy-most', r2:'Krasnokholmskiy Bridge', o:'CAO', u:'krasnokholmskiy'},
  {r:'Krasnoarbatskiy-per', r2:'Krasnoarbatskiy Lane', o:'CAO', u:'krasnoarbatskiy'},
  {r:'Zubovskiy-bul', r2:'Zubovskiy Boulevard', o:'CAO', u:'zubovskiy'},
  {r:'Kropotkinskaya', r2:'Kropotkinskaya', o:'CAO', u:'kropotkinskaya'},
  {r:'Kosmicheskiy', r2:'Kosmicheskiy', o:'VAO', u:'kosmicheskiy'},
  {r:'Perovo', r2:'Perovo', o:'VAO', u:'perovo'},
  {r:'Novogireyevo', r2:'Novogireyevo', o:'VAO', u:'novogireyevo'},
  {r:'Zhulebino', r2:'Zhulebino', o:'VAO', u:'zhulebino'},
  {r:'Lyublino', r2:'Lyublino', o:'YUAO', u:'lyublino'},
  {r:'Danilovo', r2:'Danilovo', o:'YUAO', u:'danilovo'},
  {r:'Kosmicheskiy-prosp', r2:'Kosmicheskiy Prospect', o:'VAO', u:'kosmicheskiy-prosp'},
  {r:'Chubaiskiy', r2:'Chubaiskiy', o:'YUAO', u:'chubaiskiy'},
  {r:'Akademicheskoe', r2:'Akademicheskoe', o:'YUAO', u:'akademicheskoe'},
  {r:'Bitsevskiy-park', r2:'Bitsevskiy Park', o:'YUAO', u:'bitsevskiy'},
  {r:'Borovskoe', r2:'Borovskoe', o:'YUAO', u:'borovskoe'},
  {r:'Sofinskoe', r2:'Sofinskoe', o:'YUAO', u:'sofinskoe'},
  {r:'Meshchanskoe', r2:'Meshchanskoe', o:'CAO', u:'meshchanskoe'},
  {r:'Sheremetevo', r2:'Sheremetevo', o:'SAO', u:'sheremetevo'},
  {r:'Khimki', r2:'Khimki', o:'SAO', u:'khimki'},
  {r:'Sochi', r2:'Sochi Connection', o:'SAO', u:'sochi'},
  {r:'Petushki', r2:'Petushki', o:'SAO', u:'petushki'},
  {r:'Lianozovo', r2:'Lianozovo', o:'SAO', u:'lianozovo'},
  {r:'Degunino', r2:'Degunino', o:'SAO', u:'degunino'},
  {r:'Altufevo', r2:'Altufevo', o:'SAO', u:'altufevo'},
  {r:'Molzhaninovskoe', r2:'Molzhaninovskoe', o:'SAO', u:'molzhaninovskoe'},
  {r:'Ostankino', r2:'Ostankino', o:'SAO', u:'ostankino'},
  {r:'Botanicheskiy-sad', r2:'Botanical Garden', o:'SAO', u:'botsad'},
  {r:'Novaya-Alekseyevskaya', r2:'Novaya Alekseyevskaya', o:'SAO', u:'novaya-alekseyevskaya'},
  {r:'Alekseyevskaya', r2:'Alekseyevskaya', o:'SAO', u:'alekseyevskaya'},
  {r:'Polezhaevskaya', r2:'Polezhaevskaya', o:'CAO', u:'polezhaevskaya'},
  {r:'Begovaya', r2:'Begovaya', o:'CAO', u:'begovaya'},
  {r:'Krasnyy-most', r2:'Red Bridge', o:'CAO', u:'krasnyy-most'},
  {r:'Krasnaya-presnya', r2:'Red Presnya', o:'CAO', u:'krasnaya-presnya2'},
  {r:'Novodanilovskiy-most', r2:'Novodanilovskiy Bridge', o:'CAO', u:'novodanilovskiy'},
  {r:'Krymskiy-most', r2:'Crimean Bridge', o:'YUAO', u:'krymskiy'},
  {r:'Bolshoy-kamenniy', r2:'Big Stone Bridge', o:'CAO', u:'bolshoy-kamenniy'},
  {r:'Patriarshiy-most', r2:'Patriarchiy Bridge', o:'CAO', u:'patriarshiy'},
  {r:'Bolotskaya', r2:'Bolotskaya', o:'CAO', u:'bolotskaya'},
  {r:'Bersenevskaya', r2:'Bersenevskaya', o:'CAO', u:'bersenevskaya'},
  {r:'Raushskaya', r2:'Raushskaya', o:'YUAO', u:'raushskaya'},
  {r:'Rostovskaya', r2:'Rostovskaya', o:'YUAO', u:'rostovskaya'},
  {r:'Kosmodamianskaya', r2:'Kosmodamianskaya', o:'YUAO', u:'kosmodamianskaya'},
  {r:'Pirogovskaya', r2:'Pirogovskaya', o:'YUAO', u:'pirogovskaya'},
  {r:'Andreevskaya', r2:'Andreevskaya', o:'YUAO', u:'andreevskaya'},
  {r:'Dakhniovskaya', r2:'Dakhniovskaya', o:'YUAO', u:'dakhniovskaya'},
  {r:'Shipilovskaya', r2:'Shipilovskaya', o:'YUAO', u:'shipilovskaya'},
  {r:'Brateevskaya', r2:'Brateevskaya', o:'YUAO', u:'brateevskaya'},
  {r:'Khovrino', r2:'Khovrino', o:'SAO', u:'khovrino'},
  {r:'Sverchkova', r2:'Sverchkova', o:'SAO', u:'sverchkova'},
  {r:'Leningradskiy-prosp', r2:'Leningradskiy Prospect', o:'SAO', u:'leningradskiy'},
  {r:'Dinamo-2', r2:'Dinamo-2', o:'CAO', u:'dinamo2'},
  {r:'Manezhnaya', r2:'Manezhnaya', o:'CAO', u:'manezhnaya'},
  {r:'Teatralnaya', r2:'Teatralnaya', o:'CAO', u:'teatralnaya'},
  {r:'Okhotnyy-ryad', r2:'Okhotnyy Row', o:'CAO', u:'okhotnyy-ryad'}
    {r:'Presnenskaya', r2:'Presnenskaya', o:'CAO', u:'presnenskaya'},
  {r:'Prospekt-Sakharova', r2:'Sakharov Prospect', o:'CAO', u:'prospect-sakharova'},
  {r:'Komsomolskaya-5', r2:'Komsomolskaya-5', o:'VAO', u:'komsomolskaya5'},
  {r:'Krasnye-vorota', r2:'Red Gates', o:'CAO', u:'krasnye-vorota'},
  {r:'Lublino-2', r2:'Lublino-2', o:'YUAO', u:'lublino2'},
  {r:'Akademika-Pilugina', r2:'Akademika Pilugina', o:'YUAO', u:'akademika-pilugina'},
  {r:'Konkovo', r2:'Konkovo', o:'YUAO', u:'konkovo'},
  {r:'Salaryevo', r2:'Salaryevo', o:'ZAO', u:'salaryevo'},
  {r:'Mozhayka', r2:'Mozhayka', o:'ZAO', u:'mozhayka'},
  {r:'Odintsovo', r2:'Odintsovo', o:'ZAO', u:'odintsovo'},
  {r:'Monino', r2:'Monino', o:'VAO', u:'monino'},
  {r:'Korolev', r2:'Korolev', o:'VAO', u:'korolev'},
  {r:'Stupino', r2:'Stupino', o:'YUAO', u:'stupino'},
  {r:'Domodedovo', r2:'Domodedovo', o:'YUAO', u:'domodedovo'},
  {r:'Zhukovsky', r2:'Zhukovsky', o:'VAO', u:'zhukovsky'},
  {r:'Ramenskoe', r2:'Ramenskoe', o:'VAO', u:'ramenskoe'},
  {r:'Dmitrov', r2:'Dmitrov', o:'SAO', u:'dmitrov'},
  {r:'Sergiev-Posad', r2:'Sergiev Posad', o:'SAO', u:'sergiev-posad'},
  {r:'Pereslavl-Zalesskiy', r2:'Pereslavl-Zalesskiy', o:'SAO', u:'pereslavl'},
  {r:'Yaroslavl', r2:'Yaroslavl', o:'SAO', u:'yaroslavl-city'},
  {r:'Tver', r2:'Tver', o:'SAO', u:'tver'},
  {r:'Tula', r2:'Tula', o:'SZAO', u:'tula'},
  {r:'Ryazan', r2:'Ryazan', o:'SAO', u:'ryazan'},
  {r:'Ivanovo', r2:'Ivanovo', o:'SAO', u:'ivanovo'},
  {r:'Vladimir', r2:'Vladimir', o:'VAO', u:'vladimir'},
  {r:'Vladimirskoe-shosse', r2:'Vladimirskoe Highway', o:'VAO', u:'vladimirskoe-shosse'},
  {r:'Entuziastov', r2:'Enthusiasts', o:'VAO', u:'entuziastov'}


];

let lng = 'ru';

function setLang(l) {
  lng = l;
  document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  loadCameras();
}

function loadCameras() {
  const lst = document.getElementById('cam-list');
  lst.innerHTML = '';
  const d = lng === 'ru' ? 'r' : 'r2';
  cam.forEach((c, i) => {
    const el = document.createElement('div');
    el.className = 'camera-item';
    el.textContent = c[d];
    el.onclick = () => loadCamera(i);
    lst.appendChild(el);
  });
}

function filterCam(o) {
  const lst = document.getElementById('cam-list');
  lst.innerHTML = '';
  const d = lng === 'ru' ? 'r' : 'r2';
  cam.filter(c => o === '' || c.o === o).forEach((c, i) => {
    const el = document.createElement('div');
    el.className = 'camera-item';
    el.textContent = c[d];
    el.onclick = () => loadCamera(cam.indexOf(c));
    lst.appendChild(el);
  });
}

function loadCamera(i) {
  const c = cam[i];
  const vf = document.getElementById('video-frame');
  const inf = document.getElementById('info');
  vf.style.display = 'block';
  vf.src = `https://www.youtube.com/embed/${c.u}`;
  inf.style.display = 'block';
  inf.textContent = `${c.r} (${c.o})`;
}

function loadWeather() {
  fetch('https://api.open-meteo.com/v1/forecast?latitude=55.7558&longitude=37.6173&current=temperature_2m,weather_code')
    .then(r => r.json())
    .then(d => {
      const w = document.getElementById('weather');
      w.textContent = `Temp: ${d.current.temperature_2m}Â°C`;
    })
    .catch(e => console.log('Weather error:', e));
}

function initDistricts() {
  const sel = document.querySelector('select');
  sel.innerHTML = '<option value="">All Districts</option>';
  const dists = new Set(cam.map(c => c.o));
  Array.from(dists).sort().forEach(d => {
    const opt = document.createElement('option');
    opt.value = d;
    opt.textContent = d;
    sel.appendChild(opt);
  });
}

window.addEventListener('load', () => {
  initDistricts();
  loadCameras();
  loadWeather();
});
</script>
</body>
</html>
