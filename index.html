<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–æ—Å–∫–≤–∞ –ö–∞–º–µ—Ä—ã PRO</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Courier New',monospace; background:#0a0e27; color:#22c55e; min-height:100vh; display:flex; flex-direction:column; }
header { background:linear-gradient(135deg,#8b5cf6 0%,#0a0e27 100%); padding:12px; text-align:center; border-bottom:2px solid #22c55e; }
header h1 { font-size:1.8em; color:#22c55e; margin-bottom:8px; text-shadow:0 0 10px #8b5cf6; }
.controls { display:flex; gap:5px; flex-wrap:wrap; justify-content:center; margin-top:8px; }
.lang-btn { padding:5px 10px; background:#8b5cf6; border:2px solid #22c55e; color:#22c55e; cursor:pointer; font-weight:bold; border-radius:4px; font-size:0.85em; transition:all 0.3s; }
.lang-btn:hover { background:#22c55e; color:#0a0e27; }
.lang-btn.active { background:#22c55e; color:#0a0e27; }
.control-group { display:flex; gap:5px; align-items:center; flex-wrap:wrap; justify-content:center; }
.okrug-select { padding:5px 8px; background:#8b5cf6; border:2px solid #22c55e; color:#22c55e; cursor:pointer; font-weight:bold; font-size:0.85em; border-radius:4px; }
.feature-buttons { display:flex; gap:5px; flex-wrap:wrap; justify-content:center; }
.feature-btn { padding:5px 8px; background:#22c55e; border:2px solid #8b5cf6; color:#0a0e27; cursor:pointer; font-weight:bold; border-radius:4px; font-size:0.75em; transition:all 0.3s; }
.feature-btn:hover { transform:scale(1.05); }
.feature-btn.active { background:#ff00ff; border-color:#fff; }
.container { flex:1; display:flex; max-width:1400px; margin:10px auto; width:100%; gap:10px; padding:0 10px; }
.sidebar { width:200px; background:#0f1230; border:2px solid #8b5cf6; border-radius:4px; overflow-y:auto; padding:8px; max-height:65vh; }
.camera-list { display:flex; flex-direction:column; gap:6px; }
.camera-item { padding:8px; background:#1a1f3a; border:2px solid #8b5cf6; border-radius:4px; cursor:pointer; transition:all 0.3s; font-size:0.8em; position:relative; display:flex; justify-content:space-between; align-items:center; }
.camera-item:hover { background:#8b5cf6; color:#0a0e27; }
.camera-item.active { background:#22c55e; color:#0a0e27; border-color:#22c55e; }
.camera-text { flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.fav-btn { background:none; border:none; cursor:pointer; font-size:1em; color:inherit; }
.video-player { flex:1; background:#0f1230; border:2px solid #8b5cf6; border-radius:4px; padding:10px; display:flex; flex-direction:column; }
.video-info { margin-bottom:8px; }
.video-info h2 { color:#22c55e; font-size:1.2em; margin-bottom:3px; text-shadow:0 0 5px #8b5cf6; }
.video-info p { color:#8b5cf6; font-size:0.8em; margin:2px 0; }
.status-badge { display:inline-block; width:8px; height:8px; border-radius:50%; margin-right:5px; }
.status-online { background:#00ff00; }
.status-offline { background:#ff0000; }
.video-container { flex:1; position:relative; background:#000; border:2px solid #22c55e; border-radius:4px; overflow:hidden; min-height:250px; }
iframe { width:100%; height:100%; border:none; }
.live-badge { position:absolute; top:8px; right:8px; background:#ff0000; color:#fff; padding:3px 6px; border-radius:3px; font-weight:bold; font-size:0.7em; z-index:10; }
.weather-widget { background:#1a1f3a; border:2px solid #22c55e; border-radius:4px; padding:8px; margin-bottom:8px; text-align:center; font-size:0.8em; }
.weather-widget .temp { font-size:1.3em; color:#22c55e; font-weight:bold; }
@media (max-width:1024px) { .container { flex-direction:column; } .sidebar { width:100%; max-height:120px; } .camera-list { flex-direction:row; overflow-x:auto; flex-wrap:nowrap; } .camera-item { min-width:110px; flex-shrink:0; } }
@media (max-width:640px) { header h1 { font-size:1.3em; } .lang-btn { padding:4px 7px; font-size:0.7em; } .feature-btn { font-size:0.65em; padding:4px 6px; } .video-container { min-height:200px; } .sidebar { max-height:100px; } .camera-item { font-size:0.7em; padding:6px; } }
</style>
</head>
<body><header>
<h1 id="title">–ú–æ—Å–∫–≤–∞ –ö–∞–º–µ—Ä—ã PRO</h1>
<div class="controls">
<div class="control-group">
<button class="lang-btn active" onclick="setLanguage('ru')" id="btn-ru">–†–£</button>
<button class="lang-btn" onclick="setLanguage('en')" id="btn-en">EN</button>
</div>
<div class="control-group">
<select class="okrug-select" id="okrug-select" onchange="filterByOkrug()">
<option value="">–í—Å–µ –æ–∫—Ä—É–≥–∞</option>
</select>
</div>
<div class="feature-buttons">
<button class="feature-btn" id="fav-btn" onclick="toggleFavoritesMode()" title="Favorites">‚òÖ Favorites</button>
<button class="feature-btn" id="slide-btn" onclick="toggleSlideshow()" title="Slideshow">‚ñ∂ Play</button>
<button class="feature-btn" id="weather-btn" onclick="toggleWeather()" title="Weather">üå° Weather</button>
</div>
</div>
</header>
<div class="container">
<div class="sidebar">
<div id="weather-widget" class="weather-widget" style="display:none;">
<div class="temp" id="weather-temp">--¬∞C</div>
<div id="weather-desc">Loading...</div>
</div>
<div class="camera-list" id="camera-list"></div>
</div>
<div class="video-player">
<div class="video-info">
<h2 id="camera-name">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–º–µ—Ä—É</h2>
<p id="camera-desc"></p>
<p><span class="status-badge status-online" id="status-badge"></span><span id="camera-status">Status: Loading...</span></p>
</div>
<div class="video-container">
<div class="live-badge">‚óè LIVE</div>
<iframe id="video-frame" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="Live Camera"></iframe>
</div>
</div>
</div>
<script>const cameras = [
{id:1,name:{ru:'–ú–∞—Ä–∫—Å–∏—Å—Ç—Å–∫–∞—è',en:'Marksistskaya'},desc:{ru:'–¶–µ–Ω—Ç—Ä',en:'Center'},okrug:'–¶–ê–û',url:'https://www.geocam.ru/en/online/kolomenskaya/'},
{id:2,name:{ru:'–ú–æ—Å–∫–≤–∞-—Ä–µ–∫–∞',en:'Moskva River'},desc:{ru:'–¶–µ–Ω—Ç—Ä',en:'Center'},okrug:'–¶–ê–û',url:'https://www.geocam.ru/en/online/panorama-hotel/'},
{id:3,name:{ru:'–ö—É—Ç—É–∑–æ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç',en:'Kutuzovsky Ave'},desc:{ru:'–ó–∞–ø–∞–¥–Ω—ã–π',en:'Western'},okrug:'–ó–ê–û',url:'https://www.geocam.ru/en/online/kutuzovskiy/'},
{id:4,name:{ru:'–ö–æ–ª–æ–º–µ–Ω—Å–∫–∞—è',en:'Kolomenskaya'},desc:{ru:'–Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π',en:'Southeast'},okrug:'–Æ–í–ê–û',url:'https://www.geocam.ru/en/online/kolomenskaya/'},
{id:5,name:{ru:'–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç',en:'Volgograd Ave'},desc:{ru:'–í–æ—Å—Ç–æ—á–Ω—ã–π',en:'Eastern'},okrug:'–í–ê–û',url:'https://www.geocam.ru/en/online/volgogradskiy-avenue/'},
{id:6,name:{ru:'–ê–≤—Ç–æ—Ä–∞–¥–∏–æ —Å—Ç—É–¥–∏—è',en:'Autoradio Studio'},desc:{ru:'–¶–µ–Ω—Ç—Ä',en:'Center'},okrug:'–¶–ê–û',url:'https://www.geocam.ru/en/online/avtoradio/'},
{id:7,name:{ru:'–ú–æ—Å–∫–≤–∞-24 TP',en:'Moscow 24 TV'},desc:{ru:'–¶–µ–Ω—Ç—Ä',en:'Center'},okrug:'–¶–ê–û',url:'https://www.geocam.ru/en/online/moskva-24/'},
{id:8,name:{ru:'–ù–∞–≥–∞—Ç–∏–Ω—Å–∫–∏–π –ó–∞—Ç–æ–Ω',en:'Nagatinsky Zaton'},desc:{ru:'–Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π',en:'Southeast'},okrug:'–Æ–í–ê–û',url:'https://www.geocam.ru/en/online/nagatinskiy-zaton-bridge/'},
];
let currentLanguage='ru',selectedCamera=null,favoritesMode=false,slideshowActive=false,weatherActive=false,slideshowInterval=null;
const translations={ru:{title:'–ú–æ—Å–∫–≤–∞ –ö–∞–º–µ—Ä—ã PRO',allDistricts:'–í—Å–µ –æ–∫—Ä—É–≥–∞'},en:{title:'Moscow Cameras PRO',allDistricts:'All Districts'}};
function init(){loadCameras();loadOkrugs();if(cameras.length)selectCamera(cameras[0]);fetchWeather();}
function loadCameras(){const list=document.getElementById('camera-list');list.innerHTML='';const filtered=getFilteredCameras();filtered.forEach(cam=>{const item=document.createElement('div');item.className='camera-item';if(selectedCamera&&selectedCamera.id===cam.id)item.classList.add('active');item.innerHTML=`<div class="camera-text">${cam.name[currentLanguage]}</div><button class="fav-btn" onclick="event.stopPropagation();toggleFavorite(${cam.id})" title="Add to favorites">${isFavorite(cam.id)?'‚òÖ':'‚òÜ'}</button>`;item.onclick=()=>selectCamera(cam);list.appendChild(item);});}function selectCamera(cam){selectedCamera=cam;document.getElementById('camera-name').textContent=cam.name[currentLanguage];document.getElementById('camera-desc').textContent=cam.desc[currentLanguage];document.getElementById('camera-status').textContent='Status: –û–Ω–ª–∞–π–Ω';document.getElementById('status-badge').className='status-badge status-online';document.getElementById('video-frame').src=cam.url;loadCameras();}function toggleFavorite(id){let favs=JSON.parse(localStorage.getItem('favorites')||'[]');favs.includes(id)?favs=favs.filter(f=>f!==id):favs.push(id);localStorage.setItem('favorites',JSON.stringify(favs));loadCameras();}function isFavorite(id){return JSON.parse(localStorage.getItem('favorites')||'[]').includes(id);}function loadOkrugs(){const select=document.getElementById('okrug-select');const okrugs=[...new Set(cameras.map(c=>c.okrug))];okrugs.sort().forEach(okrug=>{const opt=document.createElement('option');opt.value=okrug;opt.textContent=okrug;select.appendChild(opt);});}function filterByOkrug(){loadCameras();}function getFilteredCameras(){const select=document.getElementById('okrug-select');const okrug=select.value;let filtered=okrug?cameras.filter(c=>c.okrug===okrug):cameras;if(favoritesMode)filtered=filtered.filter(c=>isFavorite(c.id));return filtered;}function toggleFavoritesMode(){favoritesMode=!favoritesMode;document.getElementById('fav-btn').classList.toggle('active',favoritesMode);loadCameras();}function toggleSlideshow(){if(slideshowActive){clearInterval(slideshowInterval);slideshowActive=false;document.getElementById('slide-btn').classList.remove('active');}else{slideshowActive=true;document.getElementById('slide-btn').classList.add('active');const cams=getFilteredCameras();let idx=0;slideshowInterval=setInterval(()=>{if(cams.length){selectCamera(cams[idx%cams.length]);idx++;}},5000);}}function toggleWeather(){weatherActive=!weatherActive;document.getElementById('weather-btn').classList.toggle('active',weatherActive);document.getElementById('weather-widget').style.display=weatherActive?'block':'none';}function fetchWeather(){fetch('https://api.open-meteo.com/v1/forecast?latitude=55.7558&longitude=37.6173&current=temperature_2m,weather_code,wind_speed_10m').then(r=>r.json()).then(d=>{const t=Math.round(d.current.temperature_2m);const w=d.current.wind_speed_10m;document.getElementById('weather-temp').textContent=t+'¬∞C';document.getElementById('weather-desc').textContent=currentLanguage==='ru'?–≤–µ—Ç–µ—Ä+' '+Math.round(w)+' –º/—Å':'Wind '+Math.round(w)+' m/s';})}function setLanguage(lang){currentLanguage=lang;document.getElementById('btn-ru').classList.toggle('active',lang==='ru');document.getElementById('btn-en').classList.toggle('active',lang==='en');document.getElementById('title').textContent=translations[lang].title;document.getElementById('okrug-select').options[0].textContent=translations[lang].allDistricts;if(selectedCamera){document.getElementById('camera-name').textContent=selectedCamera.name[lang];document.getElementById('camera-desc').textContent=selectedCamera.desc[lang];}loadCameras();}window.addEventListener('load',init);
</script>
</body>
</html>
